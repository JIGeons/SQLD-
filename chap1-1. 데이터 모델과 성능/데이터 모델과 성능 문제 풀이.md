## SQL 자격검정 실전문제 풀이
| 문제 | 정답            | 문제 | 정답      | 문제 | 정답 | 문제 | 정답      | 문제 | 정답 |
| --- |---------------| --- |---------| --- | --- | --- |---------| --- | --- |
| 31 | 1 ✅           | 32 | 반정규화 ✅  | 33 | 4 ✅ | 34 | 1 ✅     | 35 | 4 ❌ → 3 |
| 36 | 3 ✅           | 37 | 4 ✅     | 38 | 1 ✅ | 39 | 2 ❌ → 1 | 40 | 1 ✅ |
| 41 | 4? ✅          | 42 | 3 ✅     | 43 | 3 ✅ | 44 | 1 ✅     | 45 | 3 ✅ |
| 46 | 파티셔닝 ✅        | 47 | 4 ❌ → 2 | 48 | 4 ✅ | 49 | 4 ✅     | 50 | 2 ✅ |
| 51 | 1, 3 ❌ → 2, 4 | 52 | 1 ❌ → 4 |  |  |  |         |  |  |

### 오답노트
35. 아래와 같음 보관금원장 엔터티에서 관서에 대한 정보가 반정규화 되어 있기 때문에 관서 정보를 조회할 때 성능저하가 발생하고 있다. 이 엔터티에 대해 몇차 정규화가 필요한지 분리된 스키마 구조를 가장 바르게 짝지은 것은?

    | 보관금원장               |
    |---------------------|
    | 관서번호</br>납부자번호</br>관리점번호 |
    | 관서명 </br>상태</br>관서등록일자</br>직급명</br>통신번호</br> |
    
    함수종속성(FD): </br>
    [ 관서번호, 납부자번호 ] → [ 직급명, 통신번호 ] </br>
    [ 관서번호 ] → [관리점번호, 관서명, 상태, 관서등록일자 ]
    
    ① 2차 정규화 - 정규화테이블[ 관서번호, 납부자 번호, 관리점번호, 관서명, 상태, 관서등록일자 ] ❌</br>
    ② 3차 정규화 - 정규화테이블[ 관서번호, 납부자 번호, 관리점번호, 관서명, 상태, 관서등록일자 ] ❌</br>
    ③ 2차 정규화 - 정규화테이블[ 관서번호, 관리점번호, 관서명, 상태, 관서등록일자 ] ✅</br>
    ④ 3차 정규화 - 정규화테이블[ 관서번호, 관리점번호, 관서명, 상태, 관서등록일자 ] ❌</br>
    이유: 함수종속성의 규칙에 따라 [ 관서번호 ] → [ 관리점번호, 관서명, 상태, 관서등록일자 ] 인 관서번호가 PK인 엔터티가 2차 정규화로 분리되어야 한다.</br>


39. 다음 중 아래와 같이 수강지도 엔터티를 만들었을 때 이에 해당하는 정규형과 정규화의 대상으로 가장 바르게 짝지어진 것은?
    
    | 수강지도 |
    | --- |
    | 학번</br>과목코드 |
    | 성적</br>지도교수명</br>학과명 |

    함수종속성(FD)
    1. 학번 || 과목번호 → 성적  
    2. 학번 → 지도교수명
    3. 학번 → 학과명

    ① 1차 정규형 - 2차 정규화 대상 ✅</br>
    ② 2차 정규형 - 3차 정규화 대상 ❌</br>
    ③ 3차 정규형 - 보이스코드 정규화 대상 ❌</br>
    ④ 보이스코드정규형 - 4차 정규화 대상 ❌</br>
    이유: PK에 대해 반복이 되는 그룹(Repeating)이 존재하지 않으므로 1차 정규형이라고 할 수 있으며, 부분 함수종속의 규칙을 가지고 있으므로 2차 정규형이라고 할 수 없음, 2차 정규화의 대상이 되는 엔터티이다.


47. 다음 중 아래 데이터 모델과 SQL문에 대해 개선해야 할 사항에 대한 설명으로 가장 적절한 것은?

    ```
    [ 긴급사건 ]         [ 특수사건 ]         [ 일반사건 ]
    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
    │ 긴급사건 번호  │    │ 특수사건 번호   │    │ 일반사건 번호  │
    ├─────────────┤    ├─────────────┤    ├─────────────┤
    │ 사건명        │    │ 사건명        │    │ 사건명       │    
    │ 발생일시      │    │ 발생일시       │    │ 발생일시      │
    └─────────────┘    └─────────────┘    └─────────────┘
    SELECT 긴급사건번호, 사건명 FROM 긴급사건 WHERE 발생일시 = "20150905" UNION ALL
    SELECT 특수사건번호, 사건명 FROM 특수사건 WHERE 발생일시 = "20150905" UNIONALL
    SELECT 일반사건번호, 사건명 FROM 일반사건 WHERE 발생일시 = "20150905"
    * 전제조건 : 위 세 테이블은 함께 조회하는 경우가 대부분이고 아직 시스템을 오픈하지 않았다.
    ```

       ① UNION ALL로 조회하면 정렬로 인한 성능이 저하되므로 UNION으로 조합하여 조회한다. ❌</br>
       ② 긴급사건, 특수사건, 일반사건을 하나의 테이블로 통합하고 PK를 사건분류코드 + 사건번호로 조합하여 구성하도록 한다. ✅</br>
       ③ 긴급사건, 특수사건, 일반사건 테이블을 개별로 유지하되 PK에 사건 분류코드를 포함하도록 한다. ❌</br>
       ④ 세 개의 테이블을 그대로 유지하되 반정규화된 형태의 통합테이블을 하나 더 생성하여 조회의 성능을 향상하도록 한다. ❌</br>
       이유: 개별 테이블을 모두 조회하는 트랜잭션이 대부분이라는 가정이 있으므로 UNION/UNION ALL할 경우 개별조회에 따른 시간소요와 이것을 조합하는 성능저하가 발생된다. 따라서 하나의 테이블로 통합하도록 하고 대신 PK체계나 일반속성에 각 사건을 구분할 수 있도록 구분자를 부여한다.


48. 다음 중 논리데이터모델의 슈퍼타입과 서브타입 데이터모델을 물리적인 테이블 형식으로 변환할 때 설명으로 가장 부적절한 것은?</br>
   ① 트랜잭션은 항상 전체를 대상으로 일괄 처리하는데 테이블은 서브타입별로 개별 유지하는 것으로 변환하면 Union 연산에 의해 성능이 저하될 수 있다. ✅</br>
   ② 트랜잭션은 항상 서브타입 개별로 처리하는데 테이블은 하나로 통합하여 변환하면 불필요하게 많은 양의 데이터가 집적되어 있어 성능이 저하될 수 있다. ✅</br>
   ③ 트랜잭션은 항상 슈퍼+서브 타입을 함께 처리하는데 개별로 유지 하면 조인에 의해 성능이 저하될 수 있다. ✅</br>
   ④ 트랜잭션은 항상 전체를 통합하여 분석 처리하는데 하나로 통합되어 있으면 데이터 집적으로 인해 성능이 저하될 수 있다. ❌</br>
   이유: 트랜잭션은 항상 전체를 통합하여 분석 처리하는데 슈퍼-서브타입이 하나의 테이블로 통합되어 있으면 하나의 테이블에 집적된 데이터만 읽어 처리할 수 있기 때문에 다른 형식에 비해 더 성능이 우수하다.</br>
   (조인 감소)


51. 다음 중 아래 데이터모델에 표현된 FK(Foreign Key)에 대한 설명으로 가장 적절한 것을 2개 고르시오.</br>
① 학사기준번호는 부모 테이블에 이미 인덱스가 존재하기 때문에 상속받아 생긴 수강신청에는 학사기준번호 칼럼에 대한 별도의 인덱스가 필요 하지 않다. ❌</br>
② 학사기준번호는 부모 테이블에 이미 인덱스가  존재하나 수강신청과 조인에 의한 성능저하 예방을 위해 상속받아 생긴 수강신청에도 학사기준번호 칼럼에 대한 별도의 인덱스가 필요하다. ✅</br>
③ 데이터모델에서는 관계를 연결하고 데이터베이스에 FK제약조건 생성을 생략하는 경우에 학사기준번호에 대한 인덱스를 생성할 필요가 없다. ❌</br>
④ 데이터모델에서는 관계를 연결하고 데이터베이스에 FK제약조건 생성을 생략하는 경우에도 데이터의 조인관계가 필요하므로 학사기존번호에 대한 인덱스를 생성할 필요가 있다. ✅</br>
이유: 엔터티 간에 논리적 관계가 있을경우. 즉, 엔터티 간에 관계(Relationship)을 정의하여 관련 엔터티 상호간에 업무적인 연관성이 있음을 표현한 경우에는, 이 데이터들이 업무적으로 밀접하게 연결되어 상호간에 조인이 자주 발생한다는 것을 의미하는 것이기 때문에, 데이터베이스 상에서 DBMS가 제공하는 FK Constraints를 생성했는지 여부와 상관없이 조인 성능을 향상시키기 위한 인덱스를 생성해주는 것이 좋다. 그러므로 수강신청테이블의 학사기준번호에 인덱스가 필요하다.</br>
데이터베이스에 생성하는 FK Constraints는 데이터 모델 상에 표현된 논리적 관계에 따라 관련 인스턴스 간에 일관성을 보장하기 위해 설계된 제약조건을 구현할 수 있도록 DBMS가 제공해주는 하나의 ‘지원 기능’으로 이해될 수 있다.


52. 다음 중데이터가 여러 지역에 분산되어 있지만 하나의 데이터베이스처럼 사용하기를 원하는 분산데이터베이스 환경에서 데이터베이스 분산설계를 적용하여 효율성을 증대시킬 수 없는 것은?</br>
   ① 공통코드, 기준정보 등 마스터 데이터는 분산데이터베이스에 복제분산을 적용한다. ✅</br>
   ② 거의 실시간(Near Real Time) 업무적인 특성을 가지고 있을 때 분산 데이터베이스를 사용하여 구성할 수 있다. ✅</br>
   ③ 백업 사이트를 구성할 때 간단하게 분산기능을 적용하여 구성할 수 있다. ✅</br>
   ④ Global Single Instance(GSI)를 구성할 때 분산데이터베이스를 활용하여 구성하는 것이 효율적이다. ❌</br>
   이유: Global Single Instance(GSI)는 통합된 한 개의 인스턴스 특, 통합 데이터베이스 구조를 의미하므로, 분산데이터베이스와는 대치되는 개념이다.</br>
   공통코드, 기준정보 등과 같은 마스터 데이터를 한 곳에 두고 운영하는 경우 원격지에서의 접근이 빈번할수록 실시간 업무처리에 대해 좋은 성능을 얻기가 어려울 수 있기 때문에 분산 환경에 복제분산을 하는 방법으로 분산데이터베이스를 구성할 수 있다. 또한 백업 사이트 구성에 대해서도 분산 환경으로 구성하여 적용할 수 있다.