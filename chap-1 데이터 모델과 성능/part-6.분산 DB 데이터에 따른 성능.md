## PART 6. 분산 DB 데이터에 따른 성능

### ✅ 분산 DB
1. 분산된 DB를 하나의 가성 시스템을 사용할 수 있도록 한 DB
2. 논리적으로 동일한 시스템에 속하지만, 컴퓨터 네트워크를 통해 물리적으로 분산되어 있는 데이터 집합
3. 과거에는 위치 중심이었으나 현재는 업무 필요에 따라 분산 설계

**🔹 설계 방식**
- 상향식 : 지역 스키마 작성 후 전역 스키마 작성
- 하향식 : 전역 스키마 작성 후 지역사상 스키마 작성

**🔹 분산 DB 장단점**
- 장점
    - 신뢰성과 가용성 증가
    - 빠른 응답 속도와 통신비용 절감
    - 용량 확장 용이
    - 지역 자치성, 효율성, 융통성, 각 지역 사용자 요구 수용
- 단점
    - 관리 및 통제 어려움
    - 데이터 무결성 관리 어려움
    - S/W 개발 비용 및 처리 비용 증가
    - 불규칙한 응답 속도
    - 오류의 잠재성 증대

### ✅ 분산 DB를 만족하기 위한 6가지 투명성 (분위지중장병행)

1. **분할 투명성(단편화)** : 하나의 논리적 Relation이 여러 단편으로 분할되어 각 사본이 여러 site에 저장된다.
2. **위치 투명성** : 사용하려는 데이터의 저장 장소가 명시되지 않아도 된다.
   위치 정보가 시스템 카탈로그에 유지된다.
3. **지역사상 투명성** : 지역 DBMS와 물리적 DB 사이의 사상(Mapping)이 보장된다.
4. **중복 투명성** : DB 객체가 여러 site에 중복 되어 있는지 알 필요가 없다.
5. **장애 투명성** : 구성요소(DBMS, 컴퓨터)의 장애에 무관한 트랜잭션의 원자성이 유지된다.
6. **병행 투명성** : 다수 트랜잭션 동시 수행시 결과의 일관성 유지된다. </br>
   병렬이 아니다. </br>
   TimeStamp, 분산 2단계 Locking 이용

### ✅ 분산 DB 적용 기법
1. **테이블 위치 분산** : 설계된 테이블의 위치를 본사와 지사단위로 분산
2. **테이블 분할 분산(Table Fragmentation)** : 각각의 테이블을 쪼개어 분산
    - 수평 분할: 로우 단위로 분리
    - 수직 분할: 컬럼 단위로 분리
   
3. **테이블 복제 분산(Table Replication)**
   : 동일한 테이블을 다른 지역이나 서버에서 동시에 생성하여 관리하는 유형
   원격지 조인을 내부 조인으로 변경하여 성능을 향상시킨다.

   - 부분복제: 마스터 DB에서 테이블의 내용만 다른 지역이나 서버에 위치
   - 광역복제: 마스터 DB 테이블의 내용을 각 지역이나 서버에 존재

4. **테이블 요약 분산(Table Summarization)**
  : 지역 간에 또는 서버 간에 데이터가 비슷하지만 서로 다른 유형으로 존재하는 경우

   - 분석요약: 동일한 테이블 구조를 가지고 있으면서 분산되어 있는 동일한 내용의 데이터를 이용하여 통합된 데이터를 산출하는 방식
   - 통합요약: 분산되어 있는 다른 내용의 데이터를 이용하여 통합된 데이터를 산출하는 방식 </br>
   → 다른 내용은 반드시 테이블 구조가 다르다는 이미뿐 아니라, 각 데이터가 다루는 업무 영역이나 의미가 다르다는 것을 포함할 수 있다.

### ✅ 분산 DB 설계를 고려해야 하는 경우
1. 성능이 중요한 사이트
2. 공통코드, 기준정보, 마스터 데이터의 성능 향상
3. 실시간 동기화가 요구되지 않는 경우. </br>
   거의 실시간의 업무적인 특징을 가지고 있는 경우
4. 특정 서버에 부하가 집중되어 부하를 분산
5. 백업 사이트 구성하는 경우

GIS(Global Single Instance)는 통합데이터 구조